<?xml version="1.0" encoding="utf-8"?>
<!-- 
  Simplified Swerve Drive Macro
  This xacro macro defines the simplified swerve drive robot structure
-->
<robot xmlns:xacro="http://www.ros.org/wiki/xacro">

  <!-- Define the simplified swerve drive macro -->
  <xacro:macro name="simplified_swerve">
  
  <!-- replacing package:// -->
  <xacro:property name="package_path" value="file://$(find urc_hw_description)"/>

  <xacro:property name="wheel_radius" value="0.119888" />  
  <xacro:property name="wheel_length" value="0.0762" /> 
  <!-- remove wheel_origin_xyz if not needed -->
  <xacro:property name="wheel_origin_xyz_left" value="0 0.0381 0" />
  <xacro:property name="wheel_origin_xyz_right" value="0 -0.0381 0" />
<gazebo>
  <plugin filename="libleo_gz_differential_plugin" name="leo_gz::DifferentialSystem">
    <jointA>L_Rocker_Joint</jointA>
    <jointB>R_Rocker_Joint</jointB>
    <forceConstant>300.0</forceConstant>
  </plugin>
</gazebo>
    
    <link
      name="base_link">
      <inertial>
        <origin
          xyz="4.08993662049939E-05 0 -0.10047242954429"
          rpy="0 0 0" />
        <mass
          value="66.4215786923517" />
        <inertia
          ixx="1.81696810328787"
          ixy="-6.9338212464152E-17"
          ixz="7.20648103905395E-05"
          iyy="2.32403347252879"
          iyz="-9.74563613040897E-18"
          izz="3.69433679282844" />
      </inertial>
      <visual>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh
            filename="${package_path}/models/simplified_swerve/base_link.STL" />
        </geometry>
        <material
          name="">
          <color
            rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
        </material>
      </visual>
      <collision>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh
            filename="${package_path}/models/simplified_swerve/base_link.STL" />
        </geometry>
      </collision>
    </link>
    <link
      name="L_Rocker_Link">
      <inertial>
        <origin
          xyz="-5.55111512312578E-17 0.0272622783776632 0.000169281253660614"
          rpy="0 0 0" />
        <mass
          value="2.2109729871291" />
        <inertia
          ixx="0.00109676826241139"
          ixy="-2.18257314584443E-18"
          ixz="-3.3881317890172E-19"
          iyy="0.106059793697663"
          iyz="3.15433975980145E-08"
          izz="0.106062641373692" />
      </inertial>
      <visual>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh
            filename="${package_path}/models/simplified_swerve/L_Rocker_Link.STL" />
        </geometry>
        <material
          name="">
          <color
            rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
        </material>
      </visual>
      <collision>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh
            filename="${package_path}/models/simplified_swerve/L_Rocker_Link.STL" />
        </geometry>
      </collision>
    </link>
    <joint
      name="L_Rocker_Joint"
      type="revolute">
      <origin
        xyz="0.070358 0.2808 -0.127"
        rpy="0 0.024048 0" />
      <parent
        link="base_link" />
      <child
        link="L_Rocker_Link" />
      <axis
        xyz="0 1 0" />
      <limit
        lower="-0.523"
        upper="0.523"
        effort="1000"
        velocity="100" />
    </joint>
    <link
      name="FL_Swivel_Link">
      <inertial>
        <origin
          xyz="6.66133814775094E-16 0.0919295113383884 -0.157705012315022"
          rpy="0 0 0" />
        <mass
          value="1.20325341424635" />
        <inertia
          ixx="0.00643909515114176"
          ixy="1.86347248395946E-19"
          ixz="1.6940658945086E-19"
          iyy="0.00450109747410713"
          iyz="0.00143440655173121"
          izz="0.00244738563424939" />
      </inertial>
      <visual>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh
            filename="${package_path}/models/simplified_swerve/FL_Swivel_Link.STL" />
        </geometry>
        <material
          name="">
          <color
            rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
        </material>
      </visual>
      <collision>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh
            filename="${package_path}/models/simplified_swerve/FL_Swivel_Link.STL" />
        </geometry>
      </collision>
    </link>
    <joint
      name="FL_Swivel_Joint"
      type="revolute">
      <origin
        xyz="0.35255 0.027178 0"
        rpy="0 0 -0.0018485" />
      <parent
        link="L_Rocker_Link" />
      <child
        link="FL_Swivel_Link" />
      <axis
        xyz="0 0 1" />
      <limit
        lower="-1.57"
        upper="1.57"
        effort="10"
        velocity="100" />
    </joint>
    <link
      name="FL_Wheel_Link">
      <inertial>
        <origin
          xyz="${wheel_origin_xyz_left}"
          rpy="0 0 0" />
        <mass
          value="3.24703989875836" />
        <inertia
          ixx="0.0138956270838154"
          ixy="3.76082628580909E-19"
          ixz="-3.52365706057789E-19"
          iyy="0.0246489637760063"
          iyz="-2.16522797141881E-20"
          izz="0.0138956270838154" />
      </inertial>
      <visual>
        <origin
          xyz="${wheel_origin_xyz_left}"
          rpy="${pi/2} 0 0" />
        <geometry>
          <cylinder radius="${wheel_radius}"  length="${wheel_length}" />
        </geometry>
        <material
          name="">
          <color
            rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
        </material>
      </visual>
      <collision>
        <origin
          xyz="${wheel_origin_xyz_left}"
          rpy="${pi/2} 0 0" />
        <geometry>
          <cylinder radius="${wheel_radius}"  length="${wheel_length}" />
        </geometry>
      </collision>
    </link>
    <joint
      name="FL_Wheel_Joint"
      type="continuous">
      <origin
        xyz="0 -0.027051 -0.28423"
        rpy="0 0 0" />
      <parent
        link="FL_Swivel_Link" />
      <child
        link="FL_Wheel_Link" />
      <axis
        xyz="0 1 4.8618E-05" />
    </joint>
    <link
      name="BL_Swivel_Link">
      <inertial>
        <origin
          xyz="2.77555756156289E-17 0.0919295113383879 -0.157705012315023"
          rpy="0 0 0" />
        <mass
          value="1.20325341424635" />
        <inertia
          ixx="0.00643909515114176"
          ixy="8.470329472543E-21"
          ixz="-1.76182853028894E-19"
          iyy="0.00450109747410713"
          iyz="0.00143440655173121"
          izz="0.00244738563424939" />
      </inertial>
      <visual>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh
            filename="${package_path}/models/simplified_swerve/BL_Swivel_Link.STL" />
        </geometry>
        <material
          name="">
          <color
            rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
        </material>
      </visual>
      <collision>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh
            filename="${package_path}/models/simplified_swerve/BL_Swivel_Link.STL" />
        </geometry>
      </collision>
    </link>
    <joint
      name="BL_Swivel_Joint"
      type="revolute">
      <origin
        xyz="-0.35255 0.027178 0"
        rpy="0 0 -0.0007666" />
      <parent
        link="L_Rocker_Link" />
      <child
        link="BL_Swivel_Link" />
      <axis
        xyz="0 0 1" />
      <limit
        lower="-1.57"
        upper="1.57"
        effort="10"
        velocity="100" />
    </joint>
    <link
      name="BL_Wheel_Link">
      <inertial>
        <origin
          xyz="${wheel_origin_xyz_left}"
          rpy="0 0 0" />
        <mass
          value="3.24703989875836" />
        <inertia
          ixx="0.0138956270838154"
          ixy="1.68559556503606E-19"
          ixz="-1.35525271560688E-19"
          iyy="0.0246489605438419"
          iyz="-5.89546790573159E-06"
          izz="0.0138956303159798" />
      </inertial>
      <visual>
        <origin
          xyz="${wheel_origin_xyz_left}"
          rpy="${pi/2} 0 0" />
        <geometry>
          <cylinder radius="${wheel_radius}"  length="${wheel_length}" />
        </geometry>
        <material
          name="">
          <color
            rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
        </material>
      </visual>
      <collision>
        <origin
          xyz="${wheel_origin_xyz_left}"
          rpy="${pi/2} 0 0" />
        <geometry>
          <cylinder radius="${wheel_radius}"  length="${wheel_length}" />
        </geometry>
      </collision>
    </link>
    <joint
      name="BL_Wheel_Joint"
      type="continuous">
      <origin
        xyz="0 -0.027051 -0.28423"
        rpy="0.00054825 0 0" />
      <parent
        link="BL_Swivel_Link" />
      <child
        link="BL_Wheel_Link" />
      <axis
        xyz="0 1 0.00054817" />
    </joint>
    <link
      name="R_Rocker_Link">
      <inertial>
        <origin
          xyz="-5.55111512312578E-17 -0.0272622783776632 0.000169281253660586"
          rpy="0 0 0" />
        <mass
          value="2.2109729871291" />
        <inertia
          ixx="0.00109676826241139"
          ixy="6.2804503377809E-19"
          ixz="-1.87702501111553E-18"
          iyy="0.106059793697663"
          iyz="-3.15433975979013E-08"
          izz="0.106062641373692" />
      </inertial>
      <visual>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh
            filename="${package_path}/models/simplified_swerve/R_Rocker_Link.STL" />
        </geometry>
        <material
          name="">
          <color
            rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
        </material>
      </visual>
      <collision>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh
            filename="${package_path}/models/simplified_swerve/R_Rocker_Link.STL" />
        </geometry>
      </collision>
    </link>
    <joint
      name="R_Rocker_Joint"
      type="revolute">
      <origin
        xyz="0.070358 -0.2808 -0.127"
        rpy="0 0.069977 0" />
      <parent
        link="base_link" />
      <child
        link="R_Rocker_Link" />
      <axis
        xyz="0 1 0" />
      <limit
        lower="-0.523"
        upper="0.523"
        effort="1000"
        velocity="100" />
    </joint>
    <link
      name="FR_Swivel_Link">
      <inertial>
        <origin
          xyz="-9.99200722162641E-16 -0.0919295113383881 -0.157705012315022"
          rpy="0 0 0" />
        <mass
          value="1.20325341424635" />
        <inertia
          ixx="0.00643909515114175"
          ixy="-1.35525271560688E-20"
          ixz="-7.18283939271647E-19"
          iyy="0.00450109747410712"
          iyz="-0.00143440655173121"
          izz="0.00244738563424939" />
      </inertial>
      <visual>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh
            filename="${package_path}/models/simplified_swerve/FR_Swivel_Link.STL" />
        </geometry>
        <material
          name="">
          <color
            rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
        </material>
      </visual>
      <collision>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh
            filename="${package_path}/models/simplified_swerve/FR_Swivel_Link.STL" />
        </geometry>
      </collision>
    </link>
    <joint
      name="FR_Swivel_Joint"
      type="revolute">
      <origin
        xyz="0.35255 -0.027178 0"
        rpy="0 0 0.0074664" />
      <parent
        link="R_Rocker_Link" />
      <child
        link="FR_Swivel_Link" />
      <axis
        xyz="0 0 1" />
      <limit
        lower="-1.57"
        upper="1.57"
        effort="10"
        velocity="100" />
    </joint>
    <link
      name="FR_Wheel_Link">
      <inertial>
        <origin
          xyz="${wheel_origin_xyz_right}"
          rpy="0 0 0" />
        <mass
          value="3.24703989875836" />
        <inertia
          ixx="0.0138956270838154"
          ixy="3.65918233213858E-19"
          ixz="-3.25260651745651E-19"
          iyy="0.0246489637760063"
          iyz="-2.70203510174122E-18"
          izz="0.0138956270838154" />
      </inertial>
      <visual>
        <origin
          xyz="${wheel_origin_xyz_right}"
          rpy="${pi/2} 0 0" />
        <geometry>
          <cylinder radius="${wheel_radius}"  length="${wheel_length}" />
        </geometry>
        <material
          name="">
          <color
            rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
        </material>
      </visual>
      <collision>
        <origin
          xyz="${wheel_origin_xyz_right}"
          rpy="${pi/2} 0 0" />
        <geometry>
          <cylinder radius="${wheel_radius}"  length="${wheel_length}" />
        </geometry>
      </collision>
    </link>
    <joint
      name="FR_Wheel_Joint"
      type="continuous">
      <origin
        xyz="0 0.027051 -0.28423"
        rpy="0 0 0" />
      <parent
        link="FR_Swivel_Link" />
      <child
        link="FR_Wheel_Link" />
      <axis
        xyz="9.257E-05 1 0" />
    </joint>
    <link
      name="BR_Swivel_Link">
      <inertial>
        <origin
          xyz="1.04083408558608E-16 -0.091929511338388 -0.157705012315022"
          rpy="0 0 0" />
        <mass
          value="1.20325341424635" />
        <inertia
          ixx="0.00643909515114176"
          ixy="-8.13151629364128E-20"
          ixz="-3.79470760369927E-19"
          iyy="0.00450109747410713"
          iyz="-0.00143440655173121"
          izz="0.00244738563424939" />
      </inertial>
      <visual>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh
            filename="${package_path}/models/simplified_swerve/BR_Swivel_Link.STL" />
        </geometry>
        <material
          name="">
          <color
            rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
        </material>
      </visual>
      <collision>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh
            filename="${package_path}/models/simplified_swerve/BR_Swivel_Link.STL" />
        </geometry>
      </collision>
    </link>
    <joint
      name="BR_Swivel_Joint"
      type="revolute">
      <origin
        xyz="-0.35255 -0.027178 0"
        rpy="0 0 -0.0073335" />
      <parent
        link="R_Rocker_Link" />
      <child
        link="BR_Swivel_Link" />
      <axis
        xyz="0 0 1" />
      <limit
        lower="-1.57"
        upper="1.57"
        effort="10"
        velocity="100" />
    </joint>
    <link
      name="BR_Wheel_Link">
      <inertial>
        <origin
          xyz="${wheel_origin_xyz_right}"
          rpy="0 0 0" />
        <mass
          value="3.24703989875836" />
        <inertia
          ixx="0.0138956270838154"
          ixy="2.3039296165317E-19"
          ixz="8.67361737988404E-19"
          iyy="0.0246489637760063"
          iyz="1.40946282423116E-18"
          izz="0.0138956270838154" />
      </inertial>
      <visual>
        <origin
          xyz="${wheel_origin_xyz_right}"
          rpy="${pi/2} 0 0" />
        <geometry>
          <cylinder radius="${wheel_radius}"  length="${wheel_length}" />
        </geometry>
        <material
          name="">
          <color
            rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
        </material>
      </visual>
      <collision>
        <origin
          xyz="${wheel_origin_xyz_right}"
          rpy="${pi/2} 0 0" />
        <geometry>
          <cylinder radius="${wheel_radius}"  length="${wheel_length}" />
        </geometry>
      </collision>
    </link>
    <joint
      name="BR_Wheel_Joint"
      type="continuous">
      <origin
        xyz="0 0.027051 -0.28423"
        rpy="0 0 0" />
      <parent
        link="BR_Swivel_Link" />
      <child
        link="BR_Wheel_Link" />
      <axis
        xyz="-9.257E-05 1 0" />
    </joint>

  


  </xacro:macro>

</robot>
